mixed-port: 7897
allow-lan: false
bind-address: '*'
mode: rule
log-level: info
external-controller: '127.0.0.1:9090'
global-client-fingerprint: chrome
unified-delay: false
dns:
  enable: true
  ipv6: false
  nameserver:
    - https://1.1.1.1/dns-query
    - https://8.8.8.8/dns-query
    - 1.1.1.1
    - 8.8.8.8
  nameserver-policy:
    geosite:cn:
        - https://1.12.12.12/dns-query
        - https://223.5.5.5/dns-query
  proxy-server-nameserver:
    - https://1.12.12.12/dns-query
    - https://223.5.5.5/dns-query
# èŠ‚ç‚¹ç­›é€‰ç»„
FilterHK: &FilterHK '^(?=.*(é¦™æ¸¯|HK|Hong|ğŸ‡­ğŸ‡°))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterJP: &FilterJP '^(?=.*(æ—¥æœ¬|JP|Japan|ğŸ‡¯ğŸ‡µ))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterSG: &FilterSG '^(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterUS: &FilterUS '^(?=.*(ç¾å›½|US|United States|America|ğŸ‡ºğŸ‡¸))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹)).*$'
FilterOthers: &FilterOthers '^(?!.*(ğŸ‡­ğŸ‡°|HK|Hong|é¦™æ¸¯|ğŸ‡¯ğŸ‡µ|JP|Japan|æ—¥æœ¬|ğŸ‡¸ğŸ‡¬|SG|Singapore|ç‹®åŸ|ğŸ‡ºğŸ‡¸|US|United States|America|ç¾å›½)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\b|(\d{4}-\d{2}-\d{2}|\d+G)))).*$'

# ç­–ç•¥ç»„å‚æ•°é”šç‚¹
# æ‰‹åŠ¨é€‰æ‹©å‚æ•°
Select: &Select {type: select, url: 'https://cp.cloudflare.com', disable-udp: false, hidden: false, include-all: true}
# ç­–ç•¥ç»„
proxy-groups: 
  - {name: ğŸ¯ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [æ‰‹åŠ¨é€‰æ‹©, DIRECT], url: https://cp.cloudflare.com, icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Static.png}
  - {name: æ‰‹åŠ¨é€‰æ‹©, type: select, proxies: [ğŸ‡­ğŸ‡°é¦™æ¸¯, ğŸ‡¯ğŸ‡µæ—¥æœ¬, ğŸ‡¸ğŸ‡¬æ–°åŠ å¡, ğŸ‡ºğŸ‡¸ç¾å›½, å…¶ä»–èŠ‚ç‚¹], url: https://cp.cloudflare.com, icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Cylink.png}

# æ–°å¢ä»£ç†ç»„ - ä¸‹è½½ç»„



  # æ‰‹åŠ¨é€‰æ‹©
  - {name: ğŸ‡­ğŸ‡°é¦™æ¸¯, <<: *Select, filter: *FilterHK}
  - {name: ğŸ‡¯ğŸ‡µæ—¥æœ¬, <<: *Select, filter: *FilterJP}
  - {name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡, <<: *Select, filter: *FilterSG}
  - {name: ğŸ‡ºğŸ‡¸ç¾å›½, <<: *Select, filter: *FilterUS}
  - {name: è§†é¢‘ä¸‹è½½, <<: *Select, filter: *FilterAll, icon: https://fastly.jsdelivr.net/gh/Orz-3/mini@master/Color/LineTV.png}
  - {name: ä½å»¶è¿Ÿ, <<: *Select, filter: *FilterAll, icon: https://fastly.jsdelivr.net/gh/Orz-3/mini@master/Color/Thunder.png}
  - {name: å…¶ä»–èŠ‚ç‚¹, <<: *Select, filter: *FilterOthers, icon: https://fastly.jsdelivr.net/gh/Orz-3/mini@master/Color/Global.png}

  # å…¨éƒ¨èŠ‚ç‚¹




# è®¢é˜…è§„åˆ™
rule-providers:
  #å¹¿å‘ŠåŸŸååˆ—è¡¨reject.txt
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

    #ç›´è¿åŸŸååˆ—è¡¨direct.txt
  direct:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400
#ä»£ç†åŸŸååˆ—è¡¨ proxy.txt
  proxy:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

#ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨ private.txt
  private:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400
#Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨ apple.txt
  apple:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400
#iCloud åŸŸååˆ—è¡¨ icloud.txt
  icloud:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400
#aiåŸŸååˆ—è¡¨ ai.txt

  ai:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/waxingren/liumeitick/refs/heads/main/ai.txt"
    path: ./ruleset/ai.yaml
    interval: 86400

#è‡ªå†™è§„åˆ™
  zxgz:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/waxingren/liumeitick/refs/heads/main/spxz.txt"
    path: ./ruleset/zxgz.yaml
    interval: 86400

#GFWList åŸŸååˆ—è¡¨ gfw.txt
  gfw:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400
#éä¸­å›½å¤§é™†ä½¿ç”¨çš„é¡¶çº§åŸŸååˆ—è¡¨ tld-not-cn.txt
  tld-not-cn:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400
#Telegram ä½¿ç”¨çš„ IP åœ°å€åˆ—è¡¨telegramcidr.txt
  telegramcidr:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml
    interval: 86400
#å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨ lancidr.txt
  lancidr:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400
#ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨ cncidr.txt
  cncidr:
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400

  applications:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/waxingren/liumeitick/refs/heads/main/appfenliu"
    path: ./ruleset/applications.yaml
    interval: 86400


# åˆ†æµè§„åˆ™
rules:
  ### é IP ç±»è§„åˆ™
  - RULE-SET,applications,DIRECT
  - RULE-SET,reject,REJECT
  - RULE-SET,direct,DIRECT
  - RULE-SET,proxy,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,private,DIRECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,icloud,DIRECT
  - RULE-SET,ai,ğŸ‡ºğŸ‡¸ç¾å›½
  - RULE-SET,zxgz,è§†é¢‘ä¸‹è½½
  - RULE-SET,gfw,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,tld-not-cn,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©


    ### IP ç±»è§„åˆ™
  - RULE-SET,telegramcidr,ä½å»¶è¿Ÿ
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,cncidr,DIRECT
  - GEOIP,LAN,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,DIRECT
  
