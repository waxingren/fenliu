{
    "log": {
        "disabled": false, 
        "level": "info",   
        "timestamp": true  
    },
    "experimental": {
        "external_controller": "", 
        "external_ui": "",         
        "external_ui_download_url": "", 
        "external_ui_download_detour": "手动选择", 
            "default_mode": "rule"                
        },
        "cache_file": {
            "enabled": true 
        }
    },
    "dns": {
        "servers": [
            {
                "tag": "dns_proxy",                
                "address": "https://1.1.1.1/dns-query", 
                "address_resolver": "proxyresolver", 
                "strategy": "ipv4_only",          
                "detour": "手动选择"             
            },
            {
                "tag": "proxyresolver",
                "address": "1.1.1.1",
                "strategy": "ipv4_only",
                "detour": "手动选择"
            },			
            {
                "tag": "dns_direct",
                "address": "h3://223.5.5.5/dns-query", 
                "address_resolver": "dns_resolver",
                "strategy": "ipv4_only",
                "detour": "direct"
            },
            {
                "tag": "dns_resolver",
                "address": "223.5.5.5",    
                "strategy": "ipv4_only",
                "detour": "direct"
            }
        ],
        "rules": [
            {
                "outbound": "any",                 
                "server": "dns_direct"             
            },
            {
                "clash_mode": "direct",            
                "server": "dns_direct"            
            },
            {
                "clash_mode": "global",         
                "server": "dns_proxy"           
            },
            {
                "rule_set": "geosite-cn",          
                "server": "dns_direct"            
            },
            {
                "rule_set": "geoip-cn",          
                "server": "dns_direct"          
            },
            {
                "rule_set": "geosite-geolocation-!cn", 
                "server": "dns_proxy"           
            }
        ],
        "independent_cache": true,               
        "final": "dns_proxy"                 
    },
    "inbounds": [
        {
            "type": "mixed",                     
            "listen": "127.0.0.1",             
            "listen_port": 12080,               
            "sniff": true,                   
            "users": []                      
        }
    ],
    "outbounds": [
        {
            "type": "selector",                 
            "tag": "手动选择",
            "outbounds": [                     
            ]
        },
        {
            "type": "selector",                 
            "tag": "Telegram",
            "outbounds": [                       
            ]
        },
        {
            "type": "selector",      
            "tag": "YouTube",
            "outbounds": [
            ]
        },
        {
            "type": "selector",          
            "tag": "AI",
            "outbounds": [
            ]
        },
        {
            "tag": "direct",                 
            "type": "direct"
        }
    ],
    "route": {
        "rule_set": [
            {
                "tag": "games",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-category-games.srs",
                "format": "binary",
                "download_detour": "direct"
            },	
            {
                "tag": "bing",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-bing.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "YouTube",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-youtube.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "google",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-google.srs",
                "format": "binary",
                "download_detour": "direct"
            },			
            {
                "tag": "geosite-cn",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-cn.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "geosite-geolocation-!cn",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-geolocation-!cn.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "microsoft",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-microsoft@cn.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "onedrive",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-onedrive.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "ai",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-category-ai-!cn.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "github",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-github.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "private",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-private.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "apple",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-apple.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "telegramip",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geoip/geoip-telegram.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "telegram",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geosite/geosite-telegram.srs",
                "format": "binary",
                "download_detour": "direct"
            },				
            {
                "tag": "geoip-private",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geoip/geoip-private.srs",
                "format": "binary",
                "download_detour": "direct"
            },
            {
                "tag": "geoip-cn",
                "type": "remote",
                "url": "https://ghfast.top/https://github.com/lyc8503/sing-box-rules/raw/refs/heads/rule-set-geoip/geoip-cn.srs",
                "format": "binary",
                "download_detour": "direct"
            }
        ],
        "rules": [
            {
                "action": "sniff"               
            },
            {
                "protocol": "dns",              
                "action": "hijack-dns"
            },
            {
                "clash_mode": "global",           
                "outbound": "手动选择"           
            },
            {
                "clash_mode": "direct",           
                "outbound": "direct"         
            },
            {
                "type": "logical",               
                "mode": "or",                
                "rules": [
                    {
                        "domain_regex": "^stun\\..+" 
                    },
                    {
                        "domain_keyword": [
                            "stun",             
                            "httpdns"       
                        ]
                    },
                    {
                        "protocol": "stun"       
                    }
                ],
                "action": "reject",            
                "method": "default",
                "no_drop": false
            },
            {
                "rule_set": [
                    "ai",
                    "bing"
                ],
                "outbound": "AI"
            },
            {
                "rule_set": [
                    "telegram",
                    "telegramip"
                ],
                "outbound": "Telegram"
            },
            {
                "rule_set": [
                    "YouTube"
                ],
                "outbound": "YouTube"
            },
            {
                "rule_set": [
                    "github",
                    "google"
                ],
                "outbound": "手动选择"
            },
            {
                "rule_set": [
                    "private",
					"geoip-private",
                    "games",
                    "apple",
                    "onedrive",
                    "microsoft",
                    "geosite-cn",
                    "geoip-cn"
                ],
                "outbound": "direct"
            },
            {
                "rule_set": [
                    "geolocation-!cn"
                ],
                "outbound": "手动选择"
            }
        ],
        "final": "手动选择",                 
        "auto_detect_interface": true      
    }
}
