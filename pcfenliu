port: 7895                 #æœ¬åœ°httpä»£ç†ç«¯å£
socks-port: 7896          #æœ¬åœ°socks5ä»£ç†ç«¯å£
mixed-port: 7897            #æœ¬åœ°æ··åˆä»£ç†(httpå’Œsocks5åˆå¹¶ï¼‰ç«¯å£
tcp-concurrent: true         #ã€Metaä¸“å±ã€‘TCPè¿æ¥å¹¶å‘ï¼Œå¦‚æœåŸŸåè§£æç»“æœå¯¹åº”å¤šä¸ªIPï¼Œ
                             # å¹¶å‘æ‰€æœ‰IPï¼Œé€‰æ‹©æ¡æ‰‹æœ€å¿«çš„IPè¿›è¡Œè¿æ¥

allow-lan: false                  #å…è®¸å±€åŸŸç½‘è¿æ¥(false/true)
bind-address:                     #ç›‘å¬IPç™½åå•ï¼ˆå½“allow-lanï¼štrueï¼‰ï¼Œåªå…è®¸åˆ—è¡¨è®¾å¤‡
  '*'                             #å…¨éƒ¨è®¾å¤‡
  # 192.168.122.11                #å•ä¸ªip4åœ°å€
  # "[aaaa::a8aa:ff:fe09:57d8]"   #å•ä¸ªip6åœ°å€
  
mode: rule                 #clashå·¥ä½œæ¨¡å¼ï¼ˆrule/global/direct,metaæš‚ä¸æ”¯æŒscriptï¼‰
log-level: warning          #æ—¥å¿—ç­‰çº§ï¼ˆinfo/warning/error/debug/silentï¼‰
ipv6: false                #ip6å¼€å…³ï¼Œå½“ä¸ºfalseæ—¶ï¼Œåœæ­¢è§£æhostanmesä¸ºip6åœ°å€
global-client-fingerprint: chrome
geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"

dns:
  enable: true
  listen: :53
  ipv6: false
  # é»˜è®¤ DNSï¼ˆç”¨äºå›½é™…åŸŸåï¼‰  
nameserver-policy:
  RULE-SET,private: system           # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨ä½¿ç”¨ç³»ç»Ÿ DNS
  RULE-SET,applications: system      # ç›´è¿è½¯ä»¶ä½¿ç”¨ç³»ç»Ÿ DNS
  RULE-SET,apple: system             # Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨ä½¿ç”¨ç³»ç»Ÿ DNS
  RULE-SET,icloud: system            # iCloud åŸŸååˆ—è¡¨ä½¿ç”¨ç³»ç»Ÿ DNS
  RULE-SET,direct: system            # ç›´è¿åŸŸååˆ—è¡¨ä½¿ç”¨ç³»ç»Ÿ DNS
  RULE-SET,cncidr: system            # ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨ä½¿ç”¨ç³»ç»Ÿ DNS
  nameserver:
  - 208.67.222.222
  - 1.1.1.1




enhanced-mode: fake-ip
fake-ip-range: 198.18.0.1/16
fake-ip-filter:
  # å±€åŸŸç½‘å’Œæœ¬åœ°æœåŠ¡
  - "*.lan"
  - "*.local"
  - "*.example"
  - "*.invalid"
  - "*.localhost"
  - "*.test"
  - "*.home.arpa"

  # æ—¶é—´åŒæ­¥æœåŠ¡
  - "time*.com"
  - "ntp*.com"
  - "*.time.edu.cn"
  - "*.ntp.org.cn"
  - "+.pool.ntp.org"
  - "time1.cloud.tencent.com"
  - dht.libtorrent.org
  # éŸ³ä¹æµåª’ä½“æœåŠ¡
  - "*.music.163.com"
  - "*.126.net"
  - "*.kuwo.cn"
  - "*.kugou.com"
  - "*.qq.com"
  - "*.music.migu.cn"
  # å¾®è½¯ç›¸å…³
  - "*.msftconnecttest.com"
  - "*.msftncsi.com"
  - "xbox.*.*.microsoft.com"
  - "*.*.xboxlive.com"

  # è‹¹æœç›¸å…³
  - "*.apple.com"
  - "*.icloud.com"
  - "*.mzstatic.com"
  - "*.akamaized.net"

  # è°·æ­Œç›¸å…³
  - "*.google.com"
  - "*.gstatic.com"
  - "*.googleapis.com"
  - "*.googleusercontent.com"
  - "lens.l.google.com"
  - "stun.l.google.com"

  # æ¸¸æˆå’Œå¨±ä¹ç›¸å…³
  - "*.nflxvideo.net"
  - "*.square-enix.com"
  - "*.ffxiv.com"
  - "*.bilivideo.cn"
  - "*.srv.nintendo.net"
  - "*.stun.playstation.net"

  # ç±³å®¶ç›¸å…³
  - 'Mijia Cloud'
  - 'dlg.io.mi.com'
  # å…¶ä»–
  - "+stun.*"
  - "heartbeat.belkin.com"
  - "*.linksys.com"
  - "*.linksyssmartwifi.com"
  - "*.router.asus.com"
  - "shark007.net"
sniffer:
  enable: false
  force-dns-mapping: false
  parse-pure-ip: false
  sniff:
    HTTP:
      ports:
      - 80
      - 8080-8880
      override-destination: true
    TLS:
      ports:
      - 443
      - 8443
    QUIC:
      ports:
      - 443
      - 8443
  skip-domain:
    - 'Mijia Cloud'
    - 'dlg.io.mi.com'
    - '+.apple.com'
    - "+.push.apple.com"

# è¿‡æ»¤è§„åˆ™
FilterHK: &FilterHK '^(?!.*(ç¾¤|é‚€è¯·|è·³è¿‡|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com)).*(é¦™æ¸¯|HK|Hong|ğŸ‡­ğŸ‡°).*'
FilterJP: &FilterJP '^(?!.*(ç¾¤|é‚€è¯·|è¿”åˆ©|è·³è¿‡|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com)).*(æ—¥æœ¬|JP|Japan|ğŸ‡¯ğŸ‡µ).*'
FilterSG: &FilterSG '^(?!.*(ç¾¤|é‚€è¯·|è¿”åˆ©|è·³è¿‡|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com)).*(æ–°åŠ å¡|SG|Singapore|ğŸ‡¸ğŸ‡¬).*'
FilterUS: &FilterUS '^(?!.*(ç¾¤|é‚€è¯·|è¿”åˆ©|è·³è¿‡|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com)).*(ç¾å›½|US|United States|America|ğŸ‡ºğŸ‡¸).*'
FilterOthers: &FilterOthers '^(?!.*(ğŸ‡­ğŸ‡°|HK|Hong|é¦™æ¸¯|ğŸ‡¯ğŸ‡µ|JP|Japan|æ—¥æœ¬|ğŸ‡¸ğŸ‡¬|SG|Singapore|æ–°åŠ å¡|ğŸ‡ºğŸ‡¸|US|United States|America|ç¾å›½|ç¾¤|é‚€è¯·|è¿”åˆ©|è·³è¿‡|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è·³è¿‡|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|com|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\b|(\d{4}-\d{2}-\d{2}|\d+G)))).*$'


# æ‰‹åŠ¨é€‰æ‹©å‚æ•°
Select: &Select {type: select, url: 'https://cp.cloudflare.com', disable-udp: false, hidden: false, include-all: true}

# ç­–ç•¥ç»„
proxy-groups: 
  - {name: ğŸ¯ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸ‡­ğŸ‡°é¦™æ¸¯,ğŸ‡¸ğŸ‡¬æ–°åŠ å¡,ğŸ‡¯ğŸ‡µæ—¥æœ¬,ğŸ‡ºğŸ‡¸ç¾å›½,å…¶ä»–èŠ‚ç‚¹], url: https://cp.cloudflare.com, icon: https://raw.githubusercontent.com/Orz-3/mini/master/Color/Static.png}
  - {name: ğŸ‡­ğŸ‡°é¦™æ¸¯, <<: *Select, filter: *FilterHK}
  - {name: ğŸ‡¸ğŸ‡¬æ–°åŠ å¡, <<: *Select, filter: *FilterSG}
  - {name: ğŸ‡¯ğŸ‡µæ—¥æœ¬, <<: *Select, filter: *FilterJP}  
  - {name: ğŸ‡ºğŸ‡¸ç¾å›½, <<: *Select, filter: *FilterUS}
  - {name: æµåª’ä½“, type: select, proxies: [ğŸ‡­ğŸ‡°é¦™æ¸¯,ğŸ‡¸ğŸ‡¬æ–°åŠ å¡,ğŸ‡¯ğŸ‡µæ—¥æœ¬], icon: https://fastly.jsdelivr.net/gh/Orz-3/mini@master/Color/LineTV.png}  
  - {name: å…¶ä»–èŠ‚ç‚¹, <<: *Select, filter: *FilterOthers, icon: https://fastly.jsdelivr.net/gh/Orz-3/mini@master/Color/airport.png}
# è®¢é˜…è§„åˆ™
rule-providers:
  # AI åŸŸååˆ—è¡¨
  ai:
    type: http
    behavior: classical
    url: "https://testingcf.jsdelivr.net/gh/dler-io/Rules@main/Clash/Provider/AI%20Suite.yaml"
    path: ./ruleset/ai.yaml
    interval: 86400

  # Telegram ä½¿ç”¨çš„ IP åœ°å€åˆ—è¡¨
  telegram:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegram.yaml
    interval: 86400

  # å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨
  lan:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lan.yaml
    interval: 86400
#ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨ cncidr.txt
  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400
 #ç›´è¿åŸŸååˆ—è¡¨direct.txt
  direct:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400
#ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨ private.txt
  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400
#Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨ apple.txt
  apple:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400
#iCloud åŸŸååˆ—è¡¨ icloud.txt
  icloud:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400
  # è‡ªå®šä¹‰è§„åˆ™é›†
  spxz:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/waxingren/fenliu/refs/heads/main/spxz.yaml"
    path: ./ruleset/spxz.yaml
    interval: 86400
  # ç›´è¿è½¯ä»¶
  applications:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/waxingren/fenliu/refs/heads/main/appfenliu.yaml"
    path: ./ruleset/applications.yaml
    interval: 86400

# åˆ†æµè§„åˆ™
rules:
  ### é IP ç±»è§„åˆ™
  - RULE-SET,ai,ğŸ‡ºğŸ‡¸ç¾å›½
  - RULE-SET,spxz,æµåª’ä½“  # è‡ªå®šä¹‰è§„åˆ™é›†ï¼Œç”¨äºè§†é¢‘ä¸‹è½½
  - RULE-SET,private,DIRECT  # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
  - RULE-SET,applications,DIRECT  # ç›´è¿è½¯ä»¶
  - RULE-SET,apple,DIRECT  # Apple åœ¨ä¸­å›½å¤§é™†å¯ç›´è¿çš„åŸŸååˆ—è¡¨
  - RULE-SET,icloud,DIRECT  # iCloud åŸŸååˆ—è¡¨
  - RULE-SET,direct,DIRECT  # ç›´è¿åŸŸååˆ—è¡¨
  ### IP ç±»è§„åˆ™
  - RULE-SET,lan,DIRECT,no-resolve  # å±€åŸŸç½‘ IP åŠä¿ç•™ IP åœ°å€åˆ—è¡¨
  - RULE-SET,telegram,ğŸ‡¯ğŸ‡µæ—¥æœ¬
  - RULE-SET,cncidr,DIRECT  # ä¸­å›½å¤§é™† IP åœ°å€åˆ—è¡¨

  ### é»˜è®¤åŒ¹é…ç­–ç•¥
  - MATCH,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©  
